{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dev\\\\project\\\\chill-sound\\\\src\\\\components\\\\playing_card\\\\MusicPlayerCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport './MusicPlayerCard.scss';\nimport audios from \"../Song/Song\";\nimport { AiFillPauseCircle, AiFillPlayCircle, BiSkipNext, BiSkipPrevious, FaRandom, FiRepeat } from \"react-icons/all\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MusicPlayerCard = () => {\n  _s();\n\n  const [song] = useState(audios);\n  const [index, setIndex] = useState([]);\n\n  function calTimer(time) {\n    let min = Math.floor(time / 60);\n    let sec = Math.round(time % 60);\n    if (sec < 10) sec = '0' + sec;\n    return `${min}:${sec}`;\n  }\n\n  const [currentTime, setCurrentTime] = useState(0);\n  const intervalRef = useRef();\n  const [changeTime, setChangeTime] = useState('0:00');\n  const [lengthTime, setLenghTime] = useState([calTimer(0), 0]);\n  const [isPlay, setIsPlay] = useState(false);\n  const [isRepeat, setIsRepeat] = useState(false);\n  const [isRandom, setIsRandom] = useState(false);\n  const [width, setWidth] = useState(0);\n  let style = {\n    width: `${width}%`\n  };\n  let clickedStyle = {\n    color: '#ef1e21'\n  };\n  let notClickedStyle = {\n    color: '#cccccc'\n  };\n  const [audio, setAudio] = useState();\n  const [songID, setSongID] = useState();\n\n  function clickCard(numb) {\n    setCurrentTime(0);\n    setSongID(document.getElementById(`song_${index}`));\n\n    if (index !== numb) {\n      setIndex(numb);\n      setAudio(new Audio(song[numb].src));\n\n      if (audio != undefined) {\n        stop();\n      }\n    } else {\n      if (audio != undefined) {\n        audio.load();\n        audio.play();\n      }\n    }\n  } // change song\n\n\n  function play() {\n    setCurrentTime(audio.currentTime);\n    intervalRef.current = setInterval(creaseNum, 1000);\n    audio.play();\n  }\n\n  function stop() {\n    audio.currentTime = 0;\n    audio.pause();\n  }\n\n  function pause() {\n    clearInterval(intervalRef.current);\n    audio.pause();\n  }\n\n  function skipnext() {\n    if (!isRandom) {\n      if (index < 11) clickCard(index + 1);\n    } else clickCard(Math.floor(Math.random() * 11));\n  }\n\n  function skipprev() {\n    if (!isRandom) {\n      if (index > 0) clickCard(index - 1);\n    } else clickCard(Math.floor(Math.random() * 11));\n  }\n\n  function playclick() {\n    if (index.length != 0) {\n      setIsPlay(!isPlay);\n      play();\n    } else {\n      clickCard(Math.floor(Math.random() * 11));\n    }\n  }\n\n  function pauseclick() {\n    if (index.length != 0) {\n      setIsPlay(!isPlay);\n      pause();\n    }\n  }\n\n  const creaseNum = () => setCurrentTime(currentTime => currentTime + 1);\n\n  useEffect(() => {\n    intervalRef.current = setInterval(creaseNum, 1000);\n    return () => clearInterval(intervalRef.current);\n  }, []);\n\n  function slide(e) {\n    if (audio != undefined) {\n      audio.pause();\n      clearInterval(intervalRef.current);\n      setCurrentTime(e.target.value);\n      audio.currentTime = e.target.value;\n      play();\n    }\n  }\n\n  useEffect(() => {\n    if (isPlay == true) {\n      setWidth(currentTime / lengthTime[1] * 100);\n\n      if (currentTime > lengthTime[1]) {\n        if (!isRandom && !isRepeat) if (index < 12) clickCard(index + 1);\n        if (isRandom) clickCard(Math.floor(Math.random() * 11));\n        if (isRepeat) clickCard(index);\n      } else {\n        console.log(currentTime);\n      }\n    }\n  }, [currentTime]);\n  useEffect(() => {\n    if (audio != undefined) {\n      audio.load();\n      audio.play();\n      setIsPlay(true);\n    }\n\n    if (songID != null || songID != undefined) {\n      document.getElementById(`song_${index}`).scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, [index]);\n  useEffect(() => {\n    if (audio != undefined) {\n      console.log(document.getElementById('myRange'));\n\n      audio.onloadedmetadata = function () {\n        setCurrentTime(0);\n        setLenghTime([calTimer(audio.duration), audio.duration]);\n      };\n    }\n  }, [audio]);\n  useEffect(() => {\n    if (isRandom == true) setIsRepeat(false);\n  }, [isRandom]);\n  useEffect(() => {\n    if (isRepeat == true) setIsRandom(false);\n  }, [isRepeat]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"songs-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: song.map((item, numb) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col s12 m6 l4 x3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${index}` == `${numb}` ? `playing-song song ` : `song`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"song-image\",\n                style: {\n                  backgroundImage: `url(${item.img})`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"song-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  id: `song_${numb}`,\n                  onClick: () => {\n                    clickCard(numb);\n                  },\n                  className: \"song-title\",\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => {\n                    clickCard(numb);\n                  },\n                  className: \"song-artist\",\n                  children: item.author\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"music-controller\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"red-line\",\n        style: style\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ranger-slider\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onMouseUp: e => {\n            slide(e);\n          },\n          defaultValue: ononline,\n          type: \"range\",\n          min: \"0\",\n          max: lengthTime[1],\n          className: \"slider\",\n          id: \"myRange\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer flex justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer-current\",\n          children: `${index}` ? `${calTimer(currentTime)}` : `0:00`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"current-song \",\n          children: `${index}` ? `${song[index].title}` : ``\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer-length\",\n          children: `${index}` ? `${lengthTime[0]}` : `0:00`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"play-controller flex justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(BiSkipPrevious, {\n          onClick: () => skipprev(),\n          className: \"skip-btn prev-btn bottom-2 text-5xl flex-initial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), isPlay == false ? /*#__PURE__*/_jsxDEV(AiFillPlayCircle, {\n          onClick: () => playclick(),\n          className: \"  play-btn    text-5xl flex-initial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(AiFillPauseCircle, {\n          onClick: () => pauseclick(),\n          className: \"  play-btn    text-5xl flex-initial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(BiSkipNext, {\n          onClick: () => skipnext(),\n          className: \"skip-btn next-btn text-5xl flex-initial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"other-btn my-auto text-xl flex justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(FaRandom, {\n          onClick: () => setIsRandom(!isRandom),\n          className: \"random-btn  m-2 \",\n          style: isRandom ? clickedStyle : notClickedStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FiRepeat, {\n          onClick: () => setIsRepeat(!isRepeat),\n          className: \"repeat-btn  m-2  \",\n          style: isRepeat ? clickedStyle : notClickedStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MusicPlayerCard, \"wQy6dd2ilmDXOP+JxiYhNkMVzKM=\");\n\n_c = MusicPlayerCard;\nexport default MusicPlayerCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MusicPlayerCard\");","map":{"version":3,"sources":["D:/Dev/project/chill-sound/src/components/playing_card/MusicPlayerCard.js"],"names":["React","useState","useEffect","useRef","audios","AiFillPauseCircle","AiFillPlayCircle","BiSkipNext","BiSkipPrevious","FaRandom","FiRepeat","MusicPlayerCard","song","index","setIndex","calTimer","time","min","Math","floor","sec","round","currentTime","setCurrentTime","intervalRef","changeTime","setChangeTime","lengthTime","setLenghTime","isPlay","setIsPlay","isRepeat","setIsRepeat","isRandom","setIsRandom","width","setWidth","style","clickedStyle","color","notClickedStyle","audio","setAudio","songID","setSongID","clickCard","numb","document","getElementById","Audio","src","undefined","stop","load","play","current","setInterval","creaseNum","pause","clearInterval","skipnext","random","skipprev","playclick","length","pauseclick","slide","e","target","value","console","log","scrollIntoView","behavior","block","onloadedmetadata","duration","map","item","backgroundImage","img","title","author","ononline"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useRef} from 'react'\r\nimport './MusicPlayerCard.scss'\r\nimport audios from \"../Song/Song\";\r\nimport {AiFillPauseCircle, AiFillPlayCircle, BiSkipNext, BiSkipPrevious, FaRandom, FiRepeat} from \"react-icons/all\";\r\nconst MusicPlayerCard =()=>{\r\n    const [song]=useState(audios)\r\n    const [index,setIndex]=useState([]);\r\n    function calTimer(time){\r\n        let min=Math.floor(time/60)\r\n        let sec=Math.round(time%60)\r\n        if(sec<10) sec='0'+sec\r\n        return `${min}:${sec}`\r\n\r\n    }\r\n    const[currentTime, setCurrentTime]=useState(0);\r\n    const intervalRef=useRef()\r\n    const [changeTime,setChangeTime]=useState('0:00');\r\n    const [lengthTime,setLenghTime]=useState([calTimer(0),0]);\r\n    const [isPlay,setIsPlay]=useState(false)\r\n    const[isRepeat,setIsRepeat]=useState(false)\r\n    const[isRandom,setIsRandom]=useState(false)\r\n    const[width,setWidth]=useState(0)\r\n    let style={\r\n        width: `${width}%`\r\n    }\r\n    let clickedStyle={color:'#ef1e21'}\r\n    let notClickedStyle={color:'#cccccc'}\r\n    const [audio,setAudio]=useState()\r\n    const [songID,setSongID]=useState()\r\n    function clickCard(numb) {\r\n        setCurrentTime(0)\r\n        setSongID(document.getElementById(`song_${index}`))\r\n        if (index!==numb){\r\n            setIndex(numb);\r\n            setAudio(new Audio(song[numb].src))\r\n            if (audio!=undefined) {\r\n                stop()\r\n            }\r\n        }\r\n        else {\r\n            if (audio!=undefined){\r\n                audio.load()\r\n                audio.play()\r\n            }\r\n        }\r\n    }     // change song\r\n    function play(){\r\n        setCurrentTime( audio.currentTime)\r\n        intervalRef.current = setInterval(creaseNum, 1000);\r\n        audio.play()\r\n    }\r\n    function stop() {\r\n        audio.currentTime=0\r\n        audio.pause()\r\n    }\r\n    function pause(){\r\n        clearInterval(intervalRef.current)\r\n        audio.pause()\r\n    }\r\n    function skipnext(){\r\n        if(!isRandom){\r\n            if (index<11)clickCard(index+1)\r\n        }\r\n        else clickCard(Math.floor(Math.random()*11))\r\n    }\r\n    function skipprev(){\r\n        if(!isRandom){\r\n            if (index>0 ) clickCard(index-1)\r\n        }\r\n        else clickCard(Math.floor(Math.random()*11))\r\n    }\r\n    function playclick(){\r\n        if(index.length!=0){setIsPlay(!isPlay);play()}\r\n        else {\r\n            clickCard(Math.floor(Math.random()*11))\r\n        }\r\n    }\r\n    function pauseclick(){\r\n        if (index.length!=0){setIsPlay(!isPlay);pause();}\r\n    }\r\n    const creaseNum=()=>setCurrentTime(currentTime=>currentTime+1)\r\n    useEffect(()=>{\r\n        intervalRef.current=setInterval(creaseNum,1000)\r\n        return () => clearInterval(intervalRef.current);\r\n    },[])\r\n    function slide(e){\r\n        if(audio!=undefined){\r\n            audio.pause()\r\n            clearInterval(intervalRef.current)\r\n            setCurrentTime(e.target.value)\r\n            audio.currentTime=e.target.value\r\n            play()\r\n        }\r\n    }\r\n    useEffect(\r\n        ()=>{\r\n            if(isPlay==true){\r\n                setWidth(currentTime/lengthTime[1]*100)\r\n                if (currentTime>lengthTime[1]){\r\n                    if(!isRandom && !isRepeat) if(index<12) clickCard(index+1)\r\n                    if(isRandom) clickCard(Math.floor(Math.random()*11))\r\n                    if(isRepeat) clickCard(index)\r\n\r\n                }\r\n                else {\r\n                        console.log(currentTime)\r\n                    }\r\n\r\n            }\r\n        },[currentTime]\r\n    )\r\n    useEffect(\r\n\r\n        ()=>{\r\n            if (audio!=undefined){\r\n                audio.load()\r\n                audio.play();\r\n                setIsPlay(true);\r\n                }\r\n            if(songID!=null || songID!=undefined){\r\n                document.getElementById(`song_${index}`).scrollIntoView({behavior:'smooth',block:'center'})\r\n            }\r\n        }\r\n    ,[index])\r\n    useEffect(\r\n        ()=>{if (audio!=undefined) {\r\n            console.log(document.getElementById('myRange'))\r\n            audio.onloadedmetadata= function () {\r\n                setCurrentTime(0)\r\n                setLenghTime([calTimer(audio.duration),audio.duration])}\r\n        }}\r\n    ,[audio])\r\n    useEffect(\r\n        ()=>{\r\n            if(isRandom==true) setIsRepeat(false)\r\n        },[isRandom]\r\n    )\r\n    useEffect(\r\n        ()=>{\r\n            if(isRepeat==true) setIsRandom(false)\r\n        },[isRepeat]\r\n    )\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"card\">\r\n                <div className=\"songs-wrapper\">\r\n                    <div className=\"row\">\r\n                        {song.map((item,numb)=>\r\n                            <div className=\"col s12 m6 l4 x3\">\r\n                                <div className={`${index}`==`${numb}`?`playing-song song `:`song`}>\r\n                                    <div className=\"song-image\" style={{backgroundImage:`url(${item.img})`}}></div>\r\n                                    <div className=\"song-info\">\r\n                                        <div id={`song_${numb}`} onClick={()=>{clickCard(numb)}} className=\"song-title\">{item.title}</div>\r\n                                        <div onClick={()=>{clickCard(numb)}} className=\"song-artist\">{item.author}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='music-controller'>\r\n                <div className='red-line' style={style}></div>\r\n                <div className='ranger-slider'>\r\n                    <input\r\n                            onMouseUp={(e)=>{slide(e)}}\r\n                         defaultValue={ononline} type=\"range\" min='0' max={lengthTime[1]}  className=\"slider\" id=\"myRange\"/>\r\n                </div>\r\n                <div className='timer flex justify-center'>\r\n                    <div className='timer-current'>{`${index}`?`${calTimer(currentTime)}`:`0:00`}</div>\r\n                    <div className='current-song '>{`${index}`?`${song[index].title}`:``}</div>\r\n                    <div className=\"timer-length\">{`${index}`?`${lengthTime[0]}`:`0:00`}</div>\r\n                </div>\r\n                <div className='play-controller flex justify-center'>\r\n                    <BiSkipPrevious onClick={()=>skipprev()}  className='skip-btn prev-btn bottom-2 text-5xl flex-initial' />\r\n                    {isPlay==false\r\n                        ? <AiFillPlayCircle onClick={()=>playclick()} className='  play-btn    text-5xl flex-initial'/>\r\n                        : <AiFillPauseCircle onClick={()=>pauseclick()} className='  play-btn    text-5xl flex-initial'/>}\r\n                    <BiSkipNext onClick={()=>skipnext()} className='skip-btn next-btn text-5xl flex-initial' />\r\n                </div>\r\n                <div className='other-btn my-auto text-xl flex justify-center'>\r\n                    <FaRandom onClick={()=>setIsRandom(!isRandom)} className='random-btn  m-2 ' style={isRandom  ?  clickedStyle : notClickedStyle}/>\r\n                    <FiRepeat onClick={()=>setIsRepeat(!isRepeat)} className='repeat-btn  m-2  ' style={isRepeat ? clickedStyle : notClickedStyle}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default MusicPlayerCard"]},"metadata":{},"sourceType":"module"}